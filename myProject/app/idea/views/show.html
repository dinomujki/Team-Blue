<div ng-controller="ShowController">
  <super-navbar>
    <super-navbar-title ng-bind="idea['title']"></super-navbar-title>
  </super-navbar>


  <div ng-show="showSpinner" ng-include="'_spinner.html'"></div>
  <div ng-hide="showSpinner">
    <div class="idea_detail">
      <div class="container">
        <h2 class="idea_title" ng-bind="idea['title']" id ="idea_detail_title"></h2>
        <div class="show_tags">
          <span class="idea_tag" ng-repeat="tag in idea.tags">{{tag}}</span>
        </div>
        <p class="idea_desc">{{idea.desc}}</p>
      </div>
    </div>

    <!--  add <form> to clear input after submit the comment. -->

    <div class="comment_input_container">
      <form name="cmtForm" ng-submit="clearForm()">
        <div class="row">
          <span class="required" id="cmt" ng-show="cmtMissing">*Required</span>
          <textarea ng-focus="posting()" type="text" name = "comment_input" id="comment_input" ng-model="comment_input" placeholder="Write a comment..."></textarea>
          <button ng-class="postClass" id="submit" ng-click="addComment();" class="button" type="submit" required>Post</button>
        </div>
      </form>
    </div>

  <div class="comments">
    <ul class="list" ng-hide="ideas.length==0">
      <div class="comment" ng-repeat="comment in comments track by $index">
        <div class="row">
          <div class="comment_user_img">
            <img id="user_img" src="http://www.tlu.ee/~kpata/prolearn/icons/comment.png">
          </div>
          <div class="comment_row">
            <h3 class="comment_userName">April Smith</h3>
            <p class="comment_content" ng-bind="comments[$index].content"></p>
          </div>

       </div>

       <span class="votes">
	       	<a href="#" ng-click="upvote(comment.$id)" class="subdued upvote">
	       		<i class="icon super-chevron-up"></i>
	       	</a>
	       	<span id = "upvotes"  ng-style="upvoted">{{comment.upvotes}}</span>

	       	<a href="#" ng-click="downvote(comment.$id)" class="subdued downvote">
	       		<i class="icon super-chevron-down"></i>
	       	</a>
	       	<span id = "downvotes" ng-style="downvoted">{{comment.downvotes}}</span>
	     </span>  
      </div>
    </ul>
  </div>
</div>
